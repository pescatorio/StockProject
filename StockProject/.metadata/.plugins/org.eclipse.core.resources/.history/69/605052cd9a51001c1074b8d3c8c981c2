package DAO;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import EmployeeEx.DBUtil;
import VO.ProductVO;

public class ProductDAO {
	public ProductVO getProduct(ProductVO pvo) throws Exception{
		String dml = "insert into product (stock,price_number,mid,product_name) values(?,?,?,?)";
		Connection con = null;
		PreparedStatement pstmt = null;
		ProductVO retval = null;
		try{
			con = DBUtil.getConnection();
			pstmt = con.prepareStatement(dml);
			pstmt.setString(1, pvo.getStock());
			pstmt.setString(2, pvo.getPrice_number());
			pstmt.setInt(3,pvo.getMid());
			pstmt.setString(4,pvo.getProduct_name());
			
			int i = pstmt.executeUpdate();
			retval = new ProductVO();
			retval.setStock(i+"");
		}catch(SQLException e){
			System.out.println("e=["+e+"]");
		}catch(Exception e){
			System.out.println("e="+e+"]");
		}finally{
			try{
				if(pstmt!=null)pstmt.close();
				if(con!=null)con.close();
			}
		}
	}
}
